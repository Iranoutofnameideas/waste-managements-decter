<!DOCTYPE html>
<html>
  <head>
    <title>AI Waste Detector</title>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
    <!-- Example: a pre-trained MobileNet (image classifier) -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet"></script>
    <style>
      video {
        transform: scaleX(-1);
        width: 480px;
      }
      #result {
        font-size: 20px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <h1>Waste Detection AI</h1>
    <video id="video" autoplay></video>
    <div id="result">Detecting...</div>

    <script>
      let video = document.getElementById("video");
      let resultDiv = document.getElementById("result");

      // Start camera
      navigator.mediaDevices.getUserMedia({ video: true }).then((stream) => {
        video.srcObject = stream;
      });

      // Load AI model
      async function startAI() {
        const model = await mobilenet.load(); // Replace with custom waste model

        setInterval(async () => {
          const prediction = await model.classify(video);
          if (prediction.length > 0) {
            let item = prediction[0].className.toLowerCase();

            // Simple rules (replace with real waste categories)
            let advice = "Unknown";
            if (item.includes("bottle") || item.includes("plastic"))
              advice = "Recycle Bin ‚ôªÔ∏è";
            else if (item.includes("banana") || item.includes("apple"))
              advice = "Compost Bin üå±";
            else if (item.includes("metal") || item.includes("can"))
              advice = "Recycle Bin (Metal) ü•´";
            else if (item.includes("paper")) advice = "Paper Recycling üìÑ";

            resultDiv.innerHTML = `${prediction[0].className} ‚Üí ${advice}`;
          }
        }, 2000);
      }

      startAI();
    </script>
  </body>
</html>
